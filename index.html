<!DOCTYPE html>
<html>
<head>
  <title>Homepage</title>

  <link rel="stylesheet" href="style.css">

  <script>
    function fetchRSS(feeds) {
      const rssItemsContainer = document.getElementById('rssItemsContainer');

      feeds.forEach((feedUrl, index) => {
        const rssSection = document.createElement('div');
        rssSection.className = 'rss-section';
        rssSection.id = `rssSection${index + 1}`;
        rssItemsContainer.appendChild(rssSection);

        fetch(feedUrl)
          .then(response => response.json())
          .then(data => {
            const items = data.items.slice(0, 9);

            const currentRssSection = document.getElementById(`rssSection${index + 1}`);
            currentRssSection.innerHTML = ''; // Clear placeholder content

            const header = document.createElement('span');
            header.className = "neonText";
            header.innerText = data.feed.title;
            currentRssSection.appendChild(header);

            items.forEach(item => {
              const link = document.createElement('a');
              link.href = item.link;
              link.innerHTML = item.title;
              currentRssSection.appendChild(link);
            });
          })
          .catch(error => console.error('Error fetching RSS:', error));
      });
    }

    const rssFeeds = [
      'https://api.rss2json.com/v1/api.json?rss_url=https://blog.unity.com/feed/technology',
      'https://api.rss2json.com/v1/api.json?rss_url=https://www.unrealengine.com/en-US/rss',
      'https://api.rss2json.com/v1/api.json?rss_url=https://blog.unity.com/feed/games',
      'https://api.rss2json.com/v1/api.json?rss_url=https://feed.phenx.de/lootscraper_epic_game.xml',
      'https://api.rss2json.com/v1/api.json?rss_url=https://www.tofugu.com/feed',
      'https://api.rss2json.com/v1/api.json?rss_url=https://kotaku.com/rss'
    ];

    document.addEventListener('DOMContentLoaded', (event) => {    
      fetchRSS(rssFeeds);
    });
  </script>
</head>
<body>
  <form id="search_form" action="https://www.google.com/search" method="get" target="_blank">
    <input type="text" id="search_query" name="q" placeholder="make games">
  </form>

  <div class="grid-container" id="rssItemsContainer">
  </div>  
</body>
</html>
